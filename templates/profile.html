{% extends "base.html" %}
{% load staticfiles %}
{% load socialaccount %}

{% block extra_styles %}
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick-theme.css"/>
<link rel="stylesheet" href="{% static 'css/profile.css' %}" />
{% endblock %}

{% block content %}
  <div class="hero-full-container background-image-container white-text-container">
    <div class="container">
      <div class="row">
        <div class="col-sm-4 col-sm-offset-4 col-xs-6 col-xs-offset-3">
          <div id="avatar-div">
            <img id="avatar-img" src="" />
          </div> <!-- end avatar-div -->
        </div> <!-- end col-xs -->
        <div class="col-xs-6 col-xs-offset-3">
          <h3 id="user-name">{{ user.username }}</h3>
          <p id="user-bio"></p>
          <br>
          <a href="#" class="btn btn-default btn-lg" title="">Find most match</a>
        </div> <!-- end col-xs-12 -->
      </div> <!-- end row -->
    </div> <!-- end container -->
  </div> <!-- end hero-full-container -->

  <!-- start sta -->
  <div class="section-container">
    <div class="container">
      <div class="row">
        <div class="col-xs-6">
          <canvas id="commit-canvas"></canvas>
        </div> <!-- end col-xs-12 -->
        <div class="col-xs-6">
          <canvas id="state-canvas"></canvas>
        </div> <!-- end col-xs-12 -->
      </div> <!-- end row -->
    </div> <!-- end container -->
  </div> <!-- end section-container -->

  <div class="section-container">
    <div class="container">
      <div class="row">
        <div class="page-header">
          <h2>Repo created<small>Subtext for header</small></h2>
        </div>
        <div class="repo-class">
        </div>
      </div> <!-- end row -->
    </div> <!-- end container -->
  </div> <!-- end section-container -->

  <div class="section-container">
    <div class="container">
      <div class="row">
        <div class="page-header">
          <h2>Repo contributed<small>Subtext for header</small></h2>
        </div>
        <div class="contributed-class">
        </div>
      </div> <!-- end row -->
    </div> <!-- end container -->
  </div> <!-- end section-container -->

{% endblock %}

{% block extra_scripts %}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="{% static 'js/Chart.bundle.min.js' %}"></script>
<script src="{% static 'js/header.js' %}"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/kenwheeler/slick@1.8.1/slick/slick.min.js"></script>
<script src="{% static 'js/utils.js' %}"></script>
<script src="{% static 'js/profile.js' %}"></script>
<script>
$(document).ready(function() {
    const token = $("#api-token").val(); 
    const url = "https://api.github.com/graphql"
    get_user_data(url, token, $("#user-name").text());
});
</script>
{% endblock %}
